# 部署快速参考

## GitHub Secrets 清单

### 必需的 Secrets

| Secret 名称 | 值 | 用途 |
|-------------|-----|------|
| `SSH_HOST` | `182.254.180.26` | 服务器 IP |
| `SSH_USER` | `ubuntu` | SSH 用户 |
| `SSH_PRIVATE_KEY` | `-----BEGIN OPENSSH PRIVATE KEY-----\n...` | SSH 私钥 |
| `PINME_APPKEY` | `0x123...-jwt-token...` | PinMe 认证 |

## 访问地址

| 环境 | URL | 说明 |
|------|-----|------|
| Staging | http://182.254.180.26:6060 | Ubuntu 服务器（开发预览） |
| Production | https://xplan-official.pinit.eth.limo | PinMe 静态托管（正式发布） |

## 部署命令

```bash
# Staging 部署（推送到 master）
git push origin master

# Production 部署（推送到 main）
git push origin main
```

## 检查部署状态

```bash
# 本地安装 PinMe CLI
npm install -g pinme

# 查看 PinMe 部署历史
pinme list

# 查看某次部署详情
pinme info <cid>
```

## 常见命令

### 服务器管理
```bash
# 登录服务器
ssh -i ~/.ssh/xplan_server_key ubuntu@182.254.180.26

# 查看 Nginx 日志
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log

# 重启 Nginx
sudo systemctl restart nginx

# 查看 Nginx 状态
sudo systemctl status nginx
```

### PinMe 管理
```bash
# 设置 AppKey
pinme set-appkey "your-appkey"

# 上传文件
pinme upload dist --domain "my-app"

# 查看上传历史
pinme list

# 删除文件
pinme delete <cid>
```

---

**更新日期**：2026-02-08
