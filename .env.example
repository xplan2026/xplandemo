# X-plan Demo 环境变量配置模板
# 复制此文件为 .env.local 并填写真实值
# 警告：.env.local 文件包含敏感信息，切勿提交到版本控制系统

# ========================================
# 区块链网络配置
# ========================================
# Polygon Amoy Testnet RPC URL
POLYGON_AMOY_RPC_URL=https://rpc-amoy.polygon.technology

# 备用 RPC URL
POLYGON_AMOY_RPC_URL_FALLBACK=https://rpc.ankr.com/polygon_amoy

# Chain ID
CHAIN_ID=80002

# ========================================
# 钱包地址配置
# ========================================
# 地址 A - 被保护地址
PROTECTED_WALLET=<your-protected-address>
# ⚠️ 警告：私钥应存储在 Cloudflare Secrets 或操作系统密钥环中，不要存储在 .env 文件中！
# PROTECTED_WALLET_PRIVATE_KEY=<use-cloudflare-secrets-instead>

# 地址 B - 安全地址（Worker 转移资产的目标地址）
SAFE_WALLET=<your-safe-address>
# ⚠️ 警告：私钥应存储在 Cloudflare Secrets 中
# SAFE_WALLET_PRIVATE_KEY=<use-cloudflare-secrets-instead>

# 地址 C - Gas 费地址（存储 POL）
GAS_FUNDING_WALLET=<your-gas-address>
# ⚠️ 警告：私钥应存储在 Cloudflare Secrets 中
# GAS_FUNDING_WALLET_PRIVATE_KEY=<use-cloudflare-secrets-instead>

# ========================================
# ERC20 代币合约配置
# ========================================
# XPD 代币合约地址（Polygon Amoy Testnet）
TOKEN_CONTRACT_ADDRESS=0x35774A4E1fFEee74Fa3859F89cfae00b3aC8C3A8

# 代币精度
TOKEN_DECIMALS=9

# ========================================
# Worker 配置
# ========================================
# 应急状态开关（默认关闭）
EMERGENCY_MODE=false

# 常规任务扫描间隔（秒）- 应急状态关闭时使用
SCAN_INTERVAL_NORMAL=60

# 应急任务扫描间隔（秒）- 应急状态开启时使用
SCAN_INTERVAL_EMERGENCY=5

# 余额阈值（低于此值不执行转移）
BALANCE_THRESHOLD=0.01

# 交易重试次数
MAX_RETRY_COUNT=3

# 交易重试间隔（毫秒）
RETRY_DELAY=2000

# ========================================
# Cloudflare Workers 配置
# ========================================
# Cloudflare Account ID
CLOUDFLARE_ACCOUNT_ID=<your-cloudflare-account-id>

# Cloudflare API Token（应存储在 GitHub Secrets）
# CLOUDFLARE_API_TOKEN=<store-in-github-secrets>

# Worker 路由域名
WORKER_DOMAIN=<your-worker-domain>

# KV Namespace ID (可选)
KV_NAMESPACE_ID=<your-kv-namespace-id>

# ========================================
# API 配置
# ========================================
# API 基础路径
API_BASE_URL=/api

# CORS 允许的源（开发环境）
CORS_ORIGIN=http://localhost:3000

# API 密钥（用于保护接口）
API_SECRET_KEY=<your-api-secret-key>

# ========================================
# 数据库配置（可选 - Supabase）
# ========================================
# Supabase Project URL
SUPABASE_URL=<your-supabase-url>

# Supabase Anon Key
SUPABASE_ANON_KEY=<your-supabase-anon-key>

# Supabase Service Role Key（谨慎使用）
# SUPABASE_SERVICE_ROLE_KEY=<store-in-cloudflare-secrets>

# ========================================
# 前端配置
# ========================================
# 应用标题
APP_TITLE=X-plan Demo

# 应用描述
APP_DESCRIPTION=资产保护模拟演示

# 环境类型（development/production）
NODE_ENV=development

# ========================================
# 监控和日志
# ========================================
# 日志级别（debug/info/warn/error）
LOG_LEVEL=info

# 是否启用详细日志
VERBOSE_LOGGING=true

# Sentry DSN（用于错误追踪，可选）
SENTRY_DSN=

# ========================================
# 安全配置
# ========================================
# 请求速率限制（每分钟最大请求数）
RATE_LIMIT_MAX=60

# 请求速率限制窗口（毫秒）
RATE_LIMIT_WINDOW=60000

# 会话过期时间（秒）
SESSION_EXPIRY=3600

# ========================================
# 其他
# ========================================
# 项目版本
VERSION=1.0.0

# Git 提交哈希（自动生成）
GIT_COMMIT_HASH=

# 部署时间（自动生成）
DEPLOY_TIME=

# GitHub Token（应存储在 GitHub Secrets）
# GITHUB_TOKEN=<store-in-github-secrets>

# ========================================
# 服务器相关
# ========================================
# 服务器 SSH 连接（应存储在操作系统密钥环或 GitHub Secrets）
# TERMINAL_LOGIN_COMMAND=ssh -i ~/.ssh/xplan_server_key ubuntu@182.254.180.26
