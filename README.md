# X-plan Demo

> åŒºå—é“¾èµ„äº§ä¿æŠ¤æ¨¡æ‹Ÿæ¼”ç¤ºç³»ç»Ÿ - åŸºäº Cloudflare Workers çš„è‡ªåŠ¨åŒ–èµ„äº§è½¬ç§»ä¿æŠ¤æœºåˆ¶

## ğŸ“Œ é¡¹ç›®ç®€ä»‹

X-plan Demo æ˜¯ä¸€ä¸ªåŒºå—é“¾èµ„äº§ä¿æŠ¤æ¨¡æ‹Ÿæ¼”ç¤ºç³»ç»Ÿï¼Œç”¨äºå±•ç¤ºåœ¨é’±åŒ…ç§é’¥è¢«ç›—åœºæ™¯ä¸‹ï¼Œå¦‚ä½•é€šè¿‡è‡ªåŠ¨åŒ– Worker æœåŠ¡å®ç°èµ„äº§çš„æŠ¢å…ˆè½¬ç§»ä¿æŠ¤åŠŸèƒ½ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- âœ… **ç§é’¥è¢«ç›—æ¨¡æ‹Ÿ**ï¼šå±•ç¤ºè¢«ä¿æŠ¤é’±åŒ…çš„å…¬é’¥å’Œç§é’¥ï¼Œä¾›æµ‹è¯•è€…æ¨¡æ‹Ÿæ”»å‡»
- âœ… **è‡ªåŠ¨åŒ–ä¿æŠ¤**ï¼šWorker è‡ªåŠ¨ç›‘æ§é’±åŒ…ä½™é¢ï¼Œåœ¨æ£€æµ‹åˆ°å¼‚å¸¸æ—¶æŠ¢å…ˆè½¬ç§»èµ„äº§
- âœ… **åº”æ€¥çŠ¶æ€æ§åˆ¶**ï¼šæ”¯æŒå¼€å¯/å…³é—­åº”æ€¥æ¨¡å¼ï¼Œè°ƒèŠ‚æ‰«æé¢‘ç‡ï¼ˆ1åˆ†é’Ÿ/5ç§’ï¼‰
- âœ… **å®æ—¶ç›‘æ§**ï¼šå‰ç«¯å®æ—¶æ˜¾ç¤ºé’±åŒ…ä½™é¢ã€Worker çŠ¶æ€å’Œæ“ä½œæ—¥å¿—

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æœåŠ¡

**Cloudflare Workersï¼ˆv2.4.0 æ‰©å±•æ± æ¶æ„ï¼‰**

- **ç»Ÿä¸€è°ƒåº¦å™¨**ï¼ˆ`worker-integrated-pool`ï¼‰ï¼šæ¯åˆ†é’Ÿè§¦å‘ï¼Œå¾ªç¯æ‰«ææ‰€æœ‰é’±åŒ…
- **åº”æ€¥çŠ¶æ€æ‰©å±•**ï¼ˆ`EmergencyWorkerExtension`ï¼‰ï¼šé«˜é¢‘æ‰«æï¼ˆ5ç§’/æ¬¡ï¼‰ï¼Œæ£€æµ‹åˆ°èµ„äº§åè§¦å‘è½¬è´¦
- **è½¬è´¦æ‰©å±•**ï¼ˆ`TransferWorkerExtension`ï¼‰ï¼šæ‰§è¡Œä»£å¸è½¬è´¦æ“ä½œ
- **Aideæ‰©å±•**ï¼ˆ`AideWorkerExtension`ï¼‰ï¼šç›‘æ§äº¤æ˜“çŠ¶æ€ï¼Œå¤„ç†é‡è¯•å’ŒGasè¡¥å……

### å‰ç«¯

- **Demo ç«™ç‚¹**ï¼ˆ`frontend/DemoSite`ï¼‰ï¼šåŠŸèƒ½æ¼”ç¤ºç½‘ç«™ï¼Œå®ç°å®Œæ•´çš„åç›—å¸ç­–ç•¥æ¼”ç¤º
- **å®˜æ–¹ç«™ç‚¹**ï¼ˆ`frontend/official-site`ï¼‰ï¼šX-plan å®˜æ–¹ç½‘ç«™ï¼Œå±•ç¤ºé¡¹ç›®ä»‹ç»å’Œç‰¹æ€§

### åŒºå—é“¾

- **æµ‹è¯•ç½‘ç»œ**ï¼šPolygon Amoy Testnet (Chain ID: 80002)
- **ä»£å¸åˆçº¦**ï¼šXPD (`0x35774A4E1fFEee74Fa3859F89cfae00b3aC8C3A8`)
- **Gas ä»£å¸**ï¼šPOL

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd xplandemo

# 2. å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®
cp .env.example .env

# 3. å¡«å†™ç¯å¢ƒå˜é‡
ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥çœŸå®çš„é’±åŒ…åœ°å€ã€ç§é’¥ç­‰ä¿¡æ¯
```

### å®‰è£…ä¾èµ–

```bash
# å®‰è£… Cloudflare Workers ä¾èµ–
cd cloudflare
npm install

# å®‰è£…å‰ç«¯ä¾èµ–ï¼ˆå¯é€‰ï¼‰
cd ../frontend/DemoSite
npm install
```

### é…ç½® Cloudflare Secrets

```bash
cd cloudflare

# é…ç½® Supabase
wrangler secret put SUPABASE_URL
wrangler secret put SUPABASE_KEY

# é…ç½®é’±åŒ…ç§é’¥ï¼ˆé‡è¦ï¼šç§é’¥ä½¿ç”¨åŠ å¯†å­˜å‚¨ï¼‰
wrangler secret put WALLET_PRIVATE_KEY_<address>
wrangler secret put GAS_FUNDING_WALLET_PRIVATE_KEY
```

### éƒ¨ç½² Worker

```bash
# éƒ¨ç½²ç»Ÿä¸€è°ƒåº¦å™¨
cd worker-integrated-pool
npx wrangler deploy

# æˆ–ä½¿ç”¨æ ¹ç›®å½•è„šæœ¬
cd ..
npm run deploy
```

### å¯åŠ¨å‰ç«¯ï¼ˆå¯é€‰ï¼‰

```bash
cd frontend/DemoSite
npm run dev
```

è®¿é—®ï¼šhttp://localhost:5174

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
xplandemo/
â”œâ”€â”€ cloudflare/               # Cloudflare Workers åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ tactics-1/           # ç»Ÿä¸€è°ƒåº¦å™¨ä¸» Worker
â”‚   â”œâ”€â”€ extensions/         # æ‰©å±•å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ emergency-worker/    # åº”æ€¥çŠ¶æ€æ‰©å±•
â”‚   â”‚   â”œâ”€â”€ transfer-worker/     # è½¬è´¦æ‰©å±•
â”‚   â”‚   â”œâ”€â”€ aide-worker/         # Aide æ‰©å±•
â”‚   â”‚   â”œâ”€â”€ scanner/             # æ‰«æå™¨
â”‚   â”‚   â”œâ”€â”€ database/            # æ•°æ®åº“æ‰©å±•
â”‚   â”‚   â”œâ”€â”€ gas/                 # Gas è¡¥å……
â”‚   â”‚   â””â”€â”€ rpc-pool-optimized/  # RPC è¿æ¥æ± 
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ frontend/                # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ DemoSite/            # åŠŸèƒ½æ¼”ç¤ºç«™ç‚¹
â”‚   â””â”€â”€ official-site/       # å®˜æ–¹ç½‘ç«™
â”‚
â”œâ”€â”€ Smart/                   # æ™ºèƒ½åˆçº¦ï¼ˆHardhatï¼‰
â”‚   â”œâ”€â”€ contracts/
â”‚   â””â”€â”€ scripts/
â”‚
â”œâ”€â”€ ERC20/                   # ERC20 ä»£å¸åˆçº¦
â”œâ”€â”€ supabase/                # Supabase æ•°æ®åº“é…ç½®
â”œâ”€â”€ server-configs/          # æœåŠ¡å™¨é…ç½®è„šæœ¬
â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ .env.example             # ç¯å¢ƒå˜é‡é…ç½®æ¨¡æ¿
```

---

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- [é¡¹ç›®èƒŒæ™¯ä¸åŠŸèƒ½è¯´æ˜](docs/é¡¹ç›®èƒŒæ™¯.md)
- [å‰ç«¯åŠŸèƒ½è¯´æ˜](docs/å‰ç«¯åŠŸèƒ½è¯´æ˜.md)
- [ç¯å¢ƒå˜é‡é…ç½®è¯´æ˜](docs/ç¯å¢ƒå˜é‡è¯´æ˜.md)
- [API é…ç½®](docs/APIé…ç½®.md)
- [é’±åŒ…åœ°å€é…ç½®](docs/wallet-addresses.md)
- [Worker æ¶æ„è¯´æ˜](cloudflare/README-bot-architecture.md)
- [å¾…åŠäº‹é¡¹æ¸…å•](docs/TODO.md)

---

## ğŸ” å®‰å…¨é¡»çŸ¥

âš ï¸ **é‡è¦æç¤º**ï¼š

1. **ä»…ä¾›æµ‹è¯•**ï¼šæœ¬é¡¹ç›®æ¼”ç¤ºåœ¨æµ‹è¯•ç½‘è¿›è¡Œï¼Œåˆ‡å‹¿åœ¨ä¸»ç½‘ä½¿ç”¨çœŸå®èµ„äº§
2. **ç§é’¥å®‰å…¨**ï¼š
   - ç§é’¥åº”å­˜å‚¨åœ¨ Cloudflare Secrets ä¸­ï¼Œè€Œéç¯å¢ƒå˜é‡æ–‡ä»¶
   - å‰ç«¯ç§é’¥å¯¼å…¥åŠŸèƒ½ä»…ç”¨äºæ¼”ç¤ºï¼Œå®é™…ç”Ÿäº§ç¯å¢ƒä¸¥ç¦ä½¿ç”¨
3. **ç¯å¢ƒå˜é‡**ï¼š`.env` æ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œåˆ‡å‹¿æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

æœ€åæ›´æ–°ï¼š2026-02-10

